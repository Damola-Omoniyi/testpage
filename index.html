<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cozy House Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --warm-green: #9BBC88;
            --soft-blue: #A8C6DB;
            --cream: #F5F1E6;
            --dark-green: #5A7D5E;
            --dark-blue: #5C80A3;
            --red: #D67F7F;
            --dark-red: #C46A6A;
            --light-green: #E2EDD9;
            --shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            --transition: all 0.2s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--cream);
            color: #333;
            min-height: 100vh;
            padding: 12px;
            font-size: 15px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border-radius: 14px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        header {
            background-color: var(--warm-green);
            padding: 18px 15px;
            text-align: center;
        }

        h1 {
            color: white;
            margin-bottom: 18px;
            font-size: 1.6rem;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 6px;
            overflow-x: auto;
            padding-bottom: 3px;
            scrollbar-width: none;
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .tab-button {
            background-color: rgba(255, 255, 255, 0.25);
            color: white;
            border: none;
            padding: 8px 14px;
            border-radius: 16px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            white-space: nowrap;
            flex-shrink: 0;
            font-size: 0.85rem;
        }

        .tab-button:hover {
            background-color: rgba(255, 255, 255, 0.35);
        }

        .tab-button.active {
            background-color: var(--cream);
            color: var(--dark-green);
        }

        .content {
            padding: 18px;
            min-height: 380px;
        }

        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .page.active {
            display: block;
        }

        h2 {
            color: var(--dark-green);
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--soft-blue);
            font-size: 1.3rem;
        }

        .shopping-item, .chore-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background-color: var(--cream);
            border-radius: 8px;
            transition: var(--transition);
        }

        .shopping-item:hover, .chore-item:hover {
            background-color: #ece6d6;
        }

        .shopping-item {
            justify-content: space-between;
        }

        .item-info {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .item-details {
            display: flex;
            flex-direction: column;
        }

        .item-quantity {
            font-size: 0.8rem;
            color: var(--dark-blue);
            margin-top: 2px;
        }

        .chore-item {
            flex-direction: column;
            align-items: flex-start;
        }

        .chore-details {
            margin-left: 32px;
            font-size: 0.85em;
            color: var(--dark-blue);
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .completed-by {
            font-style: italic;
            color: var(--dark-green);
            font-size: 0.8rem;
        }

        input[type="checkbox"] {
            margin-right: 12px;
            width: 18px;
            height: 18px;
            accent-color: var(--warm-green);
            cursor: pointer;
            flex-shrink: 0;
        }

        .completed {
            text-decoration: line-through;
            opacity: 0.6;
        }

        .buttons {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            background-color: var(--soft-blue);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 16px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        button:hover {
            background-color: var(--dark-blue);
        }

        .clear-button {
            background-color: var(--red);
        }

        .clear-button:hover {
            background-color: var(--dark-red);
        }

        .form-page {
            padding: 8px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark-green);
            font-size: 0.9rem;
        }

        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--soft-blue);
            border-radius: 8px;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        input[type="text"]:focus, input[type="number"]:focus {
            border-color: var(--warm-green);
            outline: none;
        }

        .quantity-input {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .quantity-input input {
            max-width: 80px;
        }

        .quantity-input select {
            flex-grow: 1;
        }

        .form-buttons {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .cancel-button {
            background-color: #E8C6C6;
        }

        .cancel-button:hover {
            background-color: #D8A6A6;
        }

        .add-button {
            background-color: var(--warm-green);
        }

        .add-button:hover {
            background-color: var(--dark-green);
        }

        .finished-chore {
            background-color: #e8f4e8;
        }

        .completion-info {
            font-style: italic;
            margin-top: 4px;
            color: var(--dark-green);
            font-size: 0.8em;
        }

        .empty-message {
            text-align: center;
            color: var(--dark-blue);
            font-style: italic;
            padding: 20px;
            background-color: rgba(162, 196, 217, 0.1);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                font-size: 14px;
            }
            
            h1 {
                font-size: 1.4rem;
            }
            
            .tab-button {
                padding: 7px 12px;
                font-size: 0.8rem;
            }
            
            .content {
                padding: 15px;
            }
            
            .shopping-item, .chore-item {
                padding: 8px;
            }
            
            .chore-details {
                margin-left: 0;
                margin-top: 8px;
                flex-direction: column;
                align-items: flex-start;
            }
            
            button {
                padding: 7px 14px;
                font-size: 0.85rem;
            }
            
            .form-buttons {
                flex-direction: column;
            }
            
            .form-buttons button {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.3rem;
            }
            
            .tab-button {
                padding: 6px 10px;
                font-size: 0.75rem;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .buttons button {
                width: 100%;
                justify-content: center;
            }
            
            .nav-tabs {
                gap: 4px;
            }
            
            h2 {
                font-size: 1.2rem;
            }
        }

        .welcome-message {
            text-align: center;
            margin: 15px 0;
            color: var(--dark-blue);
            font-size: 0.95em;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .stat-card {
            background-color: var(--soft-blue);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            min-width: 120px;
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 3px;
        }

        .stat-label {
            font-size: 0.8rem;
        }
        
        .delete-btn {
            background: none;
            border: none;
            color: var(--red);
            cursor: pointer;
            padding: 4px;
            font-size: 0.9rem;
        }
        
        .delete-btn:hover {
            color: var(--dark-red);
            background: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-home"></i> Cozy House Manager</h1>
            <div class="nav-tabs">
                <button class="tab-button active" data-page="shopping-page"><i class="fas fa-shopping-cart"></i> Shopping</button>
                <button class="tab-button" data-page="chores-page"><i class="fas fa-broom"></i> Chores</button>
                <button class="tab-button" data-page="finished-chores-page"><i class="fas fa-check-circle"></i> Completed</button>
            </div>
        </header>

        <div class="content">
            <!-- Shopping List Page -->
            <div id="shopping-page" class="page active">
                <h2><i class="fas fa-shopping-cart"></i> Shopping List</h2>
                <div class="welcome-message">
                    Add items to your shopping list
                </div>
                <div id="shopping-list">
                    <!-- Shopping items will be added here dynamically -->
                </div>
                <div class="buttons">
                    <button id="add-item-button"><i class="fas fa-plus"></i> Add Item</button>
                    <button id="clear-shopping-list" class="clear-button"><i class="fas fa-trash"></i> Clear List</button>
                </div>
            </div>

            <!-- Add Item Page -->
            <div id="add-item-page" class="page">
                <h2><i class="fas fa-cart-plus"></i> Add New Item</h2>
                <div class="form-page">
                    <div class="form-group">
                        <label for="item-name">Item Name</label>
                        <input type="text" id="item-name" placeholder="Enter item name">
                    </div>
                    <div class="form-group">
                        <label for="item-quantity">Quantity</label>
                        <div class="quantity-input">
                            <input type="number" id="item-quantity" placeholder="Qty" min="1" value="1">
                            <select id="quantity-unit">
                                <option value="">Unit</option>
                                <option value="pcs">pcs</option>
                                <option value="kg">kg</option>
                                <option value="g">g</option>
                                <option value="lb">lb</option>
                                <option value="L">L</option>
                                <option value="ml">ml</option>
                                <option value="box">box</option>
                                <option value="pack">pack</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="cancel-button" id="cancel-add-item"><i class="fas fa-times"></i> Cancel</button>
                        <button class="add-button" id="save-item"><i class="fas fa-save"></i> Add Item</button>
                    </div>
                </div>
            </div>

            <!-- Chores Page -->
            <div id="chores-page" class="page">
                <h2><i class="fas fa-broom"></i> House Chores</h2>
                <div class="welcome-message">
                    Manage household chores
                </div>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="active-chores-count">0</div>
                        <div class="stat-label">Active</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="completed-chores-count">0</div>
                        <div class="stat-label">Completed</div>
                    </div>
                </div>
                <div id="chores-list">
                    <!-- Chores will be added here dynamically -->
                </div>
                <div class="buttons">
                    <button id="add-chore-button"><i class="fas fa-plus"></i> Add Chore</button>
                </div>
            </div>

            <!-- Add Chore Page -->
            <div id="add-chore-page" class="page">
                <h2><i class="fas fa-plus-circle"></i> Add New Chore</h2>
                <div class="form-page">
                    <div class="form-group">
                        <label for="chore-name">Chore Name</label>
                        <input type="text" id="chore-name" placeholder="Enter chore name">
                    </div>
                    <div class="form-group">
                        <label for="assigned-to">Assign To</label>
                        <input type="text" id="assigned-to" placeholder="Enter name">
                    </div>
                    <div class="form-buttons">
                        <button class="cancel-button" id="cancel-add-chore"><i class="fas fa-times"></i> Cancel</button>
                        <button class="add-button" id="save-chore"><i class="fas fa-save"></i> Add Chore</button>
                    </div>
                </div>
            </div>

            <!-- Finished Chores Page -->
            <div id="finished-chores-page" class="page">
                <h2><i class="fas fa-check-circle"></i> Completed Chores</h2>
                <div class="welcome-message">
                    Review completed chores
                </div>
                <div id="finished-chores-list">
                    <!-- Finished chores will be added here dynamically -->
                </div>
                <div class="buttons">
                    <button id="back-to-active-chores"><i class="fas fa-arrow-left"></i> Back to Chores</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let shoppingItems = JSON.parse(localStorage.getItem('shoppingItems')) || [];
        let chores = JSON.parse(localStorage.getItem('chores')) || [];
        let finishedChores = JSON.parse(localStorage.getItem('finishedChores')) || [];

        // DOM Elements
        const tabButtons = document.querySelectorAll('.tab-button');
        const pages = document.querySelectorAll('.page');

        // Show the specified page and hide others
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');

            // Update active tab button
            tabButtons.forEach(button => {
                if (button.dataset.page === pageId) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });

            // Update stats when relevant pages are shown
            if (pageId === 'chores-page') {
                updateChoreStats();
            }
        }

        // Update chore statistics
        function updateChoreStats() {
            document.getElementById('active-chores-count').textContent = chores.length;
            document.getElementById('completed-chores-count').textContent = finishedChores.length;
        }

        // Tab navigation
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                showPage(button.dataset.page);
            });
        });

        // Shopping List functionality
        const shoppingList = document.getElementById('shopping-list');
        const addItemButton = document.getElementById('add-item-button');
        const clearShoppingListButton = document.getElementById('clear-shopping-list');

        // Render shopping list
        function renderShoppingList() {
            shoppingList.innerHTML = '';
            if (shoppingItems.length === 0) {
                shoppingList.innerHTML = '<p class="empty-message">Your shopping list is empty. Add some items!</p>';
                return;
            }
            
            shoppingItems.forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.className = 'shopping-item';
                
                const itemInfo = document.createElement('div');
                itemInfo.className = 'item-info';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.checked = item.completed;
                checkbox.addEventListener('change', () => {
                    shoppingItems[index].completed = checkbox.checked;
                    localStorage.setItem('shoppingItems', JSON.stringify(shoppingItems));
                    renderShoppingList();
                });
                
                const label = document.createElement('div');
                label.className = 'item-details';
                
                const nameSpan = document.createElement('span');
                nameSpan.textContent = item.name;
                if (item.completed) {
                    nameSpan.classList.add('completed');
                }
                
                const quantitySpan = document.createElement('span');
                quantitySpan.className = 'item-quantity';
                quantitySpan.textContent = item.quantity > 1 ? `${item.quantity} ${item.unit || ''}` : '';
                
                label.appendChild(nameSpan);
                label.appendChild(quantitySpan);
                
                itemInfo.appendChild(checkbox);
                itemInfo.appendChild(label);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.innerHTML = '<i class="fas fa-times"></i>';
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    shoppingItems.splice(index, 1);
                    localStorage.setItem('shoppingItems', JSON.stringify(shoppingItems));
                    renderShoppingList();
                });
                
                itemElement.appendChild(itemInfo);
                itemElement.appendChild(deleteBtn);
                shoppingList.appendChild(itemElement);
            });
        }

        // Add item to shopping list
        addItemButton.addEventListener('click', () => {
            showPage('add-item-page');
        });

        document.getElementById('cancel-add-item').addEventListener('click', () => {
            showPage('shopping-page');
        });

        document.getElementById('save-item').addEventListener('click', () => {
            const itemName = document.getElementById('item-name').value.trim();
            const itemQuantity = document.getElementById('item-quantity').value.trim();
            const quantityUnit = document.getElementById('quantity-unit').value;
            
            if (itemName) {
                shoppingItems.push({ 
                    name: itemName, 
                    quantity: itemQuantity || 1,
                    unit: quantityUnit,
                    completed: false 
                });
                localStorage.setItem('shoppingItems', JSON.stringify(shoppingItems));
                document.getElementById('item-name').value = '';
                document.getElementById('item-quantity').value = '1';
                document.getElementById('quantity-unit').value = '';
                renderShoppingList();
                showPage('shopping-page');
            }
        });

        // Clear shopping list
        clearShoppingListButton.addEventListener('click', () => {
            if (shoppingItems.length > 0) {
                if (confirm("Are you sure you want to clear your entire shopping list?")) {
                    shoppingItems = [];
                    localStorage.setItem('shoppingItems', JSON.stringify(shoppingItems));
                    renderShoppingList();
                }
            }
        });

        // Chores functionality
        const choresList = document.getElementById('chores-list');
        const addChoreButton = document.getElementById('add-chore-button');

        // Render chores list
        function renderChores() {
            choresList.innerHTML = '';
            if (chores.length === 0) {
                choresList.innerHTML = '<p class="empty-message">No chores assigned. Add some chores!</p>';
                return;
            }
            
            chores.forEach((chore, index) => {
                const choreElement = document.createElement('div');
                choreElement.className = 'chore-item';
                
                const itemInfo = document.createElement('div');
                itemInfo.className = 'item-info';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.addEventListener('change', () => {
                    // Mark as finished
                    chore.completedBy = chore.assignedTo;
                    chore.completedAt = new Date().toLocaleString();
                    finishedChores.push(chore);
                    chores.splice(index, 1);
                    
                    localStorage.setItem('chores', JSON.stringify(chores));
                    localStorage.setItem('finishedChores', JSON.stringify(finishedChores));
                    
                    renderChores();
                    renderFinishedChores();
                    updateChoreStats();
                });
                
                const label = document.createElement('label');
                label.textContent = chore.name;
                
                itemInfo.appendChild(checkbox);
                itemInfo.appendChild(label);
                
                const details = document.createElement('div');
                details.className = 'chore-details';
                details.innerHTML = `
                    <span>Assigned to: <strong>${chore.assignedTo}</strong></span>
                    <button class="delete-btn" data-index="${index}"><i class="fas fa-times"></i></button>
                `;
                
                choreElement.appendChild(itemInfo);
                choreElement.appendChild(details);
                choresList.appendChild(choreElement);
                
                // Add event listener to delete button
                const deleteButton = choreElement.querySelector('.delete-btn');
                deleteButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(deleteButton.getAttribute('data-index'));
                    if (confirm("Are you sure you want to delete this chore?")) {
                        chores.splice(index, 1);
                        localStorage.setItem('chores', JSON.stringify(chores));
                        renderChores();
                        updateChoreStats();
                    }
                });
            });
        }

        // Add chore
        addChoreButton.addEventListener('click', () => {
            showPage('add-chore-page');
        });

        document.getElementById('cancel-add-chore').addEventListener('click', () => {
            showPage('chores-page');
        });

        document.getElementById('save-chore').addEventListener('click', () => {
            const choreName = document.getElementById('chore-name').value.trim();
            const assignedTo = document.getElementById('assigned-to').value.trim();
            
            if (choreName && assignedTo) {
                chores.push({ 
                    name: choreName, 
                    assignedTo: assignedTo 
                });
                localStorage.setItem('chores', JSON.stringify(chores));
                document.getElementById('chore-name').value = '';
                document.getElementById('assigned-to').value = '';
                renderChores();
                updateChoreStats();
                showPage('chores-page');
            } else {
                alert("Please enter both a chore name and assign it to someone.");
            }
        });

        // Finished chores functionality
        const finishedChoresList = document.getElementById('finished-chores-list');
        const backToActiveChoresButton = document.getElementById('back-to-active-chores');

        // Render finished chores
        function renderFinishedChores() {
            finishedChoresList.innerHTML = '';
            if (finishedChores.length === 0) {
                finishedChoresList.innerHTML = '<p class="empty-message">No chores completed yet.</p>';
                return;
            }
            
            finishedChores.forEach((chore, index) => {
                const choreElement = document.createElement('div');
                choreElement.className = 'chore-item finished-chore';
                
                const nameElement = document.createElement('div');
                nameElement.textContent = chore.name;
                nameElement.style.fontWeight = 'bold';
                
                const detailsElement = document.createElement('div');
                detailsElement.className = 'chore-details';
                detailsElement.innerHTML = `
                    <span>Assigned to: <strong>${chore.assignedTo}</strong></span>
                    <button class="delete-btn" data-index="${index}"><i class="fas fa-times"></i></button>
                `;
                
                const completionElement = document.createElement('div');
                completionElement.className = 'completion-info';
                completionElement.textContent = `Completed by: ${chore.completedBy} on ${chore.completedAt}`;
                
                choreElement.appendChild(nameElement);
                choreElement.appendChild(detailsElement);
                choreElement.appendChild(completionElement);
                
                finishedChoresList.appendChild(choreElement);
                
                // Add event listener to delete button
                const deleteButton = choreElement.querySelector('.delete-btn');
                deleteButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(deleteButton.getAttribute('data-index'));
                    if (confirm("Are you sure you want to delete this completed chore?")) {
                        finishedChores.splice(index, 1);
                        localStorage.setItem('finishedChores', JSON.stringify(finishedChores));
                        renderFinishedChores();
                        updateChoreStats();
                    }
                });
            });
        }

        // Back to active chores
        backToActiveChoresButton.addEventListener('click', () => {
            showPage('chores-page');
        });

        // Initialize the app
        renderShoppingList();
        renderChores();
        renderFinishedChores();
        updateChoreStats();
    </script>
</body>
</html>
